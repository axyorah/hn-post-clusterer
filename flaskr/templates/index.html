<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HN Post Clusterer</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="{{url_for('static', filename='css/style.css')}}">
    <link rel="stylesheet" href="{{url_for('static', filename='css/figures.css')}}">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300&display=swap" rel="stylesheet">
</head>

<body>

    <main class="container">

        <h1 class="mt-5">TITLE</h1>

        {% include "partials/get_data.html" %}

        <ul class="nav nav-tabs" id="seed-tab" role="tablist">
            <li class="nav-item" role="presentation">
                <button class="nav-link active" id="same-label-tab-btn" data-bs-toggle="tab" 
                    data-bs-target="#same-label-tab" aria-selected="true">
                    <h2>Get Posts from Cluster</h2>
                </button>
            </li>
        </ul>

        <div class="tab-content" id="tab-content">

            <section class="tab-pane fade show active" id="same-label-tab" role="tabpanel" aria-labelledby="same-label-tab">
                {% include "partials/get_posts_from_same_cluster.html" %}
            </section>

        </div>

        <div class="box" id="table-root"></div>
    </main>

    <script>
        const container = document.querySelector(".container");
        const tabs = document.querySelectorAll(".nav-link");

        // `Get and Filter Data` tab
        const seed = new Object();
        for (let filterBy of ["date", "id"]) {
            if (seed[filterBy] === undefined) {
                seed[filterBy] = new Object();
            }
            for (let loc of ["begin", "end"]) {
                if (seed[filterBy][loc] === undefined) {
                    seed[filterBy][loc] = new Object();
                }
                seed[filterBy][loc]["range"] = document.querySelector(`#seed-${filterBy}-${loc}-range`);
                seed[filterBy][loc]["label"] = document.querySelector(`#seed-${filterBy}-${loc}-label`);
            }
        }
        const seedSubmitBtn = document.querySelector("#seed-submit-btn");

        const show = new Object();
        for (let filterBy of ["date", "id", "comm", "score"]) {
            if (show[filterBy] === undefined) {
                show[filterBy] = new Object();
            }
            for (let loc of ["begin", "end"]) {
                if (show[filterBy][loc] === undefined) {
                    show[filterBy][loc] = new Object();
                }
                show[filterBy][loc]["range"] = document.querySelector(`#show-${filterBy}-${loc}-range`);
                show[filterBy][loc]["label"] = document.querySelector(`#show-${filterBy}-${loc}-label`);
            }
        }
        const tableRoot = document.querySelector("#table-root");

        // Semantic Clustering 
        const semanticClusterBtn = document.querySelector('#semantic-cluster-btn');
        const semanticClusterPlotRoot = document.querySelector('#semantic-cluster-plot-root');
        const showSemanticClusterPostsNum = document.querySelector("#show-semantic-cluster-posts-num");
        const showSemanticClusterPostsBtn = document.querySelector("#show-semantic-cluster-posts-btn");
        
    </script>

    <script src="{{url_for('static', filename='js/tabstyle.js')}}"></script>
    <script src="{{url_for('static', filename='js/index.js')}}"></script>
    <script src="{{url_for('static', filename='js/seeddb_utils.js')}}"></script>
    <script src="{{url_for('static', filename='js/table_utils.js')}}"></script>
    <script src="{{url_for('static', filename='js/semantic_utils.js')}}"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>

</body>

</html>